{"remainingRequest":"/var/www/minibank/node_modules/babel-loader/lib/index.js!/var/www/minibank/node_modules/eslint-loader/index.js??ref--13-0!/var/www/minibank/src/store/store.js","dependencies":[{"path":"/var/www/minibank/src/store/store.js","mtime":1572959371902},{"path":"/var/www/minibank/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/minibank/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/minibank/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/var/www/minibank/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _JSON$stringify from \"/var/www/minibank/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport _Promise from \"/var/www/minibank/node_modules/@babel/runtime-corejs2/core-js/promise\";\nimport \"core-js/modules/es6.function.name\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios';\nVue.use(Vuex);\naxios.defaults.baseURL = 'http://127.0.0.1:8000/api/v1';\nvar frontEndUrl = 'http://localhost:8080/';\nexport var store = new Vuex.Store({\n  state: {\n    token: localStorage.getItem('token') || null,\n    users: [],\n    userInfo: JSON.parse(localStorage.getItem('userInfo')) || null,\n    responseMsg: '',\n    snackbar: false,\n    snackbarType: 'success',\n    headerType: '',\n    setEmailForPassReset: '',\n    accountInfo: [],\n    customerDetails: [],\n    statements: []\n  },\n  getters: {\n    getAccountInfo: function getAccountInfo(state) {\n      return state.accountInfo;\n    },\n    getCustomerDetails: function getCustomerDetails(state) {\n      return state.customerDetails;\n    },\n    getStatements: function getStatements(state) {\n      return state.statements;\n    },\n    loggedIn: function loggedIn(state) {\n      return state.token !== null;\n    },\n    getUserInfo: function getUserInfo(state) {\n      return state.userInfo;\n    },\n    getUsers: function getUsers(state) {\n      return state.users;\n    }\n  },\n  mutations: {\n    getUsers: function getUsers(state, users) {\n      state.users = [];\n      users.map(function (user) {\n        state.users.push({\n          'id': user.id,\n          'name': user.name,\n          'email': user.email,\n          'user_type': user.user_type\n        });\n      });\n    },\n    setUsers: function setUsers(state, user) {\n      state.users.push({\n        'id': user.id,\n        'name': user.name,\n        'email': user.email,\n        'user_type': user.user_type\n      });\n    },\n    userInfo: function userInfo(state, data) {\n      state.userInfo = data;\n    },\n    retrieveToken: function retrieveToken(state, token) {\n      state.token = token;\n    },\n    destroyToken: function destroyToken(state, token) {\n      state.token = null;\n    },\n    setResponseMsg: function setResponseMsg(state, response) {\n      console.log(response);\n      state.responseMsg = response.data.resMsg;\n\n      if (state.responseMsg.length > 0) {\n        state.snackbar = true;\n      }\n\n      state.snackbarType = 'success';\n\n      if (response.data.error) {\n        state.snackbarType = 'error';\n      }\n    },\n    responseMsgRmv: function responseMsgRmv(state) {\n      state.responseMsg = '';\n\n      if (state.responseMsg.length == 0) {\n        state.snackbar = false;\n      }\n    },\n    setAccountInfo: function setAccountInfo(state, data) {\n      state.customerDetails = data;\n      data.accounts.map(function (info) {\n        state.accountInfo.push({\n          'accNo': info.id,\n          'name': data.name,\n          'acc_type': info.account_type\n        });\n      });\n    },\n    getStatement: function getStatement(state, data) {\n      state.statements[0] = {\n        Transaction: \"Balance B/D\",\n        Balance: data.balanceBD\n      };\n      data.statementData.map(function (statement) {\n        state.statements.push({\n          'Date': statement.created_at,\n          'Transaction': statement.transaction,\n          'Remarks': statement.remarks,\n          'Deposit': statement.debit,\n          'Withdraw': statement.credit,\n          'Balance': statement.balance\n        });\n      });\n      console.log(state.statements);\n    }\n  },\n  actions: {\n    register: function register(context, data) {\n      console.log(data);\n      var params = new URLSearchParams();\n      params.append('name', data.name);\n      params.append('address', data.address);\n      params.append('account_type', data.account_type);\n      params.append('email', data.email);\n      params.append('password', data.password);\n      params.append('password_confirmation', data.password_confirmation);\n      params.append('contact_no', data.phone);\n      return new _Promise(function (resolve, reject) {\n        axios.post('/register', params).then(function (response) {\n          if (response.data.error) {\n            context.commit('setResponseMsg', response);\n          } else {\n            var token = response.data.token;\n            localStorage.setItem('token', token);\n            context.commit('retrieveToken', token);\n            localStorage.setItem('userInfo', _JSON$stringify(response.data.user)); // console.log(JSON.parse(localStorage.getItem('userInfo')))\n\n            context.commit('userInfo', response.data.user);\n          }\n\n          resolve(response);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    retrieveToken: function retrieveToken(context, credentials) {\n      return new _Promise(function (resolve, reject) {\n        var params = new URLSearchParams();\n        params.append('email', credentials.email);\n        params.append('password', credentials.password);\n        axios.post('/login', params).then(function (response) {\n          if (response.data.error) {\n            context.commit('setResponseMsg', response);\n          } else {\n            var token = response.data.token;\n            localStorage.setItem('token', token);\n            context.commit('retrieveToken', token);\n            localStorage.setItem('userInfo', _JSON$stringify(response.data.user)); // console.log(JSON.parse(localStorage.getItem('userInfo')))\n\n            context.commit('userInfo', response.data.user);\n          }\n\n          resolve(response);\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    },\n    destroyToken: function () {\n      var _destroyToken = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(context) {\n        var token;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return \"Bearer \".concat(context.state.token);\n\n              case 2:\n                token = _context.sent;\n\n                if (!context.getters.loggedIn) {\n                  _context.next = 5;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", new _Promise(function (resolve, reject) {\n                  axios.get('/logout', {\n                    headers: {\n                      Authorization: token\n                    }\n                  }).then(function (response) {\n                    localStorage.removeItem('token');\n                    context.commit('destroyToken');\n                    resolve(response);\n                  }).catch(function (error) {\n                    console.log(error);\n                  });\n                }));\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function destroyToken(_x) {\n        return _destroyToken.apply(this, arguments);\n      }\n\n      return destroyToken;\n    }(),\n    getAccountInfo: function getAccountInfo(context) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token;\n\n      if (context.getters.loggedIn) {\n        return new _Promise(function (resolve, reject) {\n          axios.get('/customer-info').then(function (response) {\n            console.log(response.data.user);\n            context.commit('setAccountInfo', response.data.user);\n            resolve(response);\n          }).catch(function (error) {\n            reject(error);\n          });\n        });\n      }\n    },\n    getCustomerBalance: function getCustomerBalance(context, accNo) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token;\n\n      if (context.getters.loggedIn) {\n        return new _Promise(function (resolve, reject) {\n          axios.get('/customer-balance/' + accNo).then(function (response) {\n            resolve(response);\n          }).catch(function (error) {\n            reject(error);\n          });\n        });\n      }\n    },\n    saveDeposite: function saveDeposite(context, data) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token;\n\n      if (context.getters.loggedIn) {\n        return new _Promise(function (resolve, reject) {\n          axios.post('/deposit', data).then(function (response) {\n            context.commit('setResponseMsg', response);\n            resolve(response);\n          }).catch(function (error) {\n            reject(error);\n          });\n        });\n      }\n    },\n    fundTransfer: function fundTransfer(context, data) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token;\n\n      if (context.getters.loggedIn) {\n        return new _Promise(function (resolve, reject) {\n          axios.post('/fund-transfer', data).then(function (response) {\n            context.commit('setResponseMsg', response);\n            resolve(response);\n          }).catch(function (error) {\n            reject(error);\n          });\n        });\n      }\n    },\n    createAccount: function createAccount(context, data) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token;\n      var account_type = {\n        account_type: data\n      };\n\n      if (context.getters.loggedIn) {\n        return new _Promise(function (resolve, reject) {\n          axios.post('/new-account-request', account_type).then(function (response) {\n            context.commit('setResponseMsg', response);\n            resolve(response);\n          }).catch(function (error) {\n            reject(error);\n          });\n        });\n      }\n    },\n    accountStatement: function accountStatement(context, data) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token;\n\n      if (context.getters.loggedIn) {\n        return new _Promise(function (resolve, reject) {\n          axios.get('/statement?' + 'account_no=' + data.accno + '&' + 'start_date=' + data.startDate + '&' + 'end_date=' + data.endDate).then(function (response) {\n            console.log(response.data);\n            context.commit('getStatement', response.data);\n            resolve(response);\n          }).catch(function (error) {\n            reject(error);\n          });\n        });\n      }\n    }\n  }\n});",{"version":3,"sources":["/var/www/minibank/src/store/store.js"],"names":["Vue","Vuex","axios","use","defaults","baseURL","frontEndUrl","store","Store","state","token","localStorage","getItem","users","userInfo","JSON","parse","responseMsg","snackbar","snackbarType","headerType","setEmailForPassReset","accountInfo","customerDetails","statements","getters","getAccountInfo","getCustomerDetails","getStatements","loggedIn","getUserInfo","getUsers","mutations","map","user","push","id","name","email","user_type","setUsers","data","retrieveToken","destroyToken","setResponseMsg","response","console","log","resMsg","length","error","responseMsgRmv","setAccountInfo","accounts","info","account_type","getStatement","Transaction","Balance","balanceBD","statementData","statement","created_at","transaction","remarks","debit","credit","balance","actions","register","context","params","URLSearchParams","append","address","password","password_confirmation","phone","resolve","reject","post","then","commit","setItem","catch","credentials","concat","get","headers","Authorization","removeItem","common","getCustomerBalance","accNo","saveDeposite","fundTransfer","createAccount","accountStatement","accno","startDate","endDate"],"mappings":"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","sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport axios from 'axios'\n\nVue.use(Vuex);\naxios.defaults.baseURL = 'http://127.0.0.1:8000/api/v1'\nconst frontEndUrl = 'http://localhost:8080/'\n\nexport const store = new Vuex.Store({\n  state: {\n    token: localStorage.getItem('token') || null,\n\n    users: [],\n    userInfo: JSON.parse(localStorage.getItem('userInfo')) || null,\n    responseMsg: '',\n    snackbar: false,\n    snackbarType: 'success',\n    headerType: '',\n    setEmailForPassReset: '',\n\n\n    accountInfo: [],\n    customerDetails: [],\n    statements: []\n  },\n\n  getters: {\n    getAccountInfo: (state) => {\n      return state.accountInfo\n    },\n    getCustomerDetails: (state) => {\n      return state.customerDetails\n    },\n    getStatements: (state) => {\n      return state.statements\n    },\n    loggedIn(state) {\n      return state.token !== null\n    },\n    getUserInfo: (state) => {\n      return state.userInfo\n    },\n    getUsers: (state) => {\n      return state.users\n    },\n  },\n  mutations: {\n    getUsers(state, users) {\n      state.users = [];\n      users.map(function (user) {\n        state.users.push({\n          'id': user.id,\n          'name': user.name,\n          'email': user.email,\n          'user_type': user.user_type\n        });\n      });\n    },\n    setUsers(state, user) {\n      state.users.push({\n        'id': user.id,\n        'name': user.name,\n        'email': user.email,\n        'user_type': user.user_type\n      });\n\n    },\n    userInfo(state, data) {\n      state.userInfo = data\n    },\n    retrieveToken(state, token) {\n      state.token = token\n    },\n    destroyToken(state, token) {\n      state.token = null\n    },\n    setResponseMsg: (state, response) => {\n      console.log(response)\n      state.responseMsg = response.data.resMsg\n      if (state.responseMsg.length > 0) {\n        state.snackbar = true\n      }\n\n      state.snackbarType = 'success'\n      if (response.data.error) {\n        state.snackbarType = 'error'\n      }\n\n    },\n    responseMsgRmv(state) {\n      state.responseMsg = '';\n      if (state.responseMsg.length == 0) {\n        state.snackbar = false\n      }\n    },\n\n    setAccountInfo(state, data) {\n      state.customerDetails = data\n      data.accounts.map(function (info) {\n        state.accountInfo.push({\n          'accNo': info.id,\n          'name': data.name,\n          'acc_type': info.account_type\n        });\n      })\n    },\n    getStatement(state, data) {\n      state.statements[0] = {\n        Transaction: \"Balance B/D\",\n        Balance: data.balanceBD\n      }\n\n      data.statementData.map(function (statement) {\n        state.statements.push({\n          'Date': statement.created_at,\n          'Transaction': statement.transaction,\n          'Remarks': statement.remarks,\n          'Deposit': statement.debit,\n          'Withdraw': statement.credit,\n          'Balance': statement.balance\n        })\n      })\n\n      console.log(state.statements)\n    }\n\n  },\n  actions: {\n    register(context, data) {\n      console.log(data)\n      const params = new URLSearchParams()\n      params.append('name', data.name)\n      params.append('address', data.address)\n      params.append('account_type', data.account_type)\n      params.append('email', data.email)\n      params.append('password', data.password)\n      params.append('password_confirmation', data.password_confirmation)\n      params.append('contact_no', data.phone)\n\n      return new Promise((resolve, reject) => {\n        axios.post('/register', params)\n          .then(response => {\n            if (response.data.error) {\n              context.commit('setResponseMsg', response)\n            } else {\n              const token = response.data.token\n\n              localStorage.setItem('token', token)\n              context.commit('retrieveToken', token)\n              localStorage.setItem('userInfo', JSON.stringify(response.data.user))\n              // console.log(JSON.parse(localStorage.getItem('userInfo')))\n              context.commit('userInfo', response.data.user)\n            }\n\n            resolve(response)\n          })\n          .catch(error => {\n            reject(error)\n          })\n      })\n    },\n\n    retrieveToken(context, credentials) {\n\n      return new Promise((resolve, reject) => {\n        const params = new URLSearchParams()\n        params.append('email', credentials.email)\n        params.append('password', credentials.password)\n\n        axios.post('/login', params)\n          .then(response => {\n            if (response.data.error) {\n              context.commit('setResponseMsg', response)\n            } else {\n              const token = response.data.token\n\n              localStorage.setItem('token', token)\n              context.commit('retrieveToken', token)\n              localStorage.setItem('userInfo', JSON.stringify(response.data.user))\n              // console.log(JSON.parse(localStorage.getItem('userInfo')))\n              context.commit('userInfo', response.data.user)\n            }\n\n            resolve(response)\n          })\n          .catch(error => {\n            reject(error)\n          })\n      })\n    },\n    async destroyToken(context) {\n      const token = await \"Bearer \".concat(context.state.token)\n\n      if (context.getters.loggedIn) {\n        return new Promise((resolve, reject) => {\n          axios.get('/logout', {\n            headers: {\n              Authorization: token\n            }\n          })\n            .then(response => {\n              localStorage.removeItem('token')\n              context.commit('destroyToken')\n              resolve(response)\n            })\n            .catch(error => {\n              console.log(error)\n            })\n        })\n      }\n    },\n\n    getAccountInfo(context) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token\n      if (context.getters.loggedIn) {\n        return new Promise((resolve, reject) => {\n          axios.get('/customer-info')\n            .then(response => {\n              console.log(response.data.user)\n              context.commit('setAccountInfo', response.data.user)\n              resolve(response)\n            })\n            .catch(error => {\n              reject(error)\n            })\n        })\n      }\n    },\n    getCustomerBalance(context, accNo) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token\n      if (context.getters.loggedIn) {\n        return new Promise((resolve, reject) => {\n          axios.get('/customer-balance/' + accNo)\n            .then(response => {\n              resolve(response)\n            })\n            .catch(error => {\n              reject(error)\n            })\n        })\n      }\n    },\n    saveDeposite(context, data) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token\n      if (context.getters.loggedIn) {\n        return new Promise((resolve, reject) => {\n          axios.post('/deposit', data)\n            .then(response => {\n\n              context.commit('setResponseMsg', response)\n\n              resolve(response)\n            })\n            .catch(error => {\n              reject(error)\n            })\n        })\n      }\n    },\n    fundTransfer(context, data) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token\n      if (context.getters.loggedIn) {\n        return new Promise((resolve, reject) => {\n          axios.post('/fund-transfer', data)\n            .then(response => {\n\n              context.commit('setResponseMsg', response)\n\n              resolve(response)\n            })\n            .catch(error => {\n              reject(error)\n            })\n        })\n      }\n    },\n    createAccount(context, data) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token\n      var account_type = {\n        account_type: data\n      };\n      if (context.getters.loggedIn) {\n        return new Promise((resolve, reject) => {\n          axios.post('/new-account-request', account_type)\n            .then(response => {\n\n              context.commit('setResponseMsg', response)\n\n              resolve(response)\n            })\n            .catch(error => {\n              reject(error)\n            })\n        })\n      }\n    },\n    accountStatement(context, data) {\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + context.state.token\n\n      if (context.getters.loggedIn) {\n        return new Promise((resolve, reject) => {\n          axios.get('/statement?' + 'account_no=' + data.accno + '&' + 'start_date=' + data.startDate + '&' + 'end_date=' + data.endDate)\n            .then(response => {\n              console.log(response.data)\n              context.commit('getStatement', response.data)\n              resolve(response)\n            })\n            .catch(error => {\n              reject(error)\n            })\n        })\n      }\n    }\n  }\n})"]}]}